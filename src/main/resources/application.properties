spring.config.import=optional:file:.env


# Application Configuration
spring.application.name=${APP_NAME}
server.port=${SERVER_PORT}

# Database Configuration
spring.datasource.url=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Thymeleaf Configuration
spring.thymeleaf.cache=false
spring.thymeleaf.enabled=true
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Logging Configuration
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=INFO
logging.level.com.academic=DEBUG

# Security
spring.security.user.name=${SPRING_SECURITY_USERNAME}
spring.security.user.password=${SPRING_SECURITY_PASSWORD}

# Liquibase
logging.level.liquibase=DEBUG
logging.level.liquibase.changelog=DEBUG
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml
# Uncomment this ONLY if you want to drop all tables on every startup (dangerous!)
#spring.liquibase.drop-first=true

#JWT
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION}

# Swagger UI path (default: /swagger-ui.html or /swagger-ui/index.html)
springdoc.swagger-ui.path=/swagger-ui.html

# API docs path (default: /v3/api-docs)
springdoc.api-docs.path=/v3/api-docs

# Display request duration in Swagger UI
springdoc.swagger-ui.display-request-duration=true

# Enable deep linking for tags and operations
springdoc.swagger-ui.deep-linking=true

# Show common extensions
springdoc.swagger-ui.show-extensions=true

# Show common vendor extensions
springdoc.swagger-ui.show-common-extensions=true

# Enable filter input for operations
springdoc.swagger-ui.filter=true

# Default models expand depth
springdoc.swagger-ui.default-models-expand-depth=1

# Default model expand depth
springdoc.swagger-ui.default-model-expand-depth=1

# Operation sorting (alpha or method)
springdoc.swagger-ui.operations-sorter=alpha

# Tag sorting
springdoc.swagger-ui.tags-sorter=alpha

# Disable Try it out by default
springdoc.swagger-ui.try-it-out-enabled=true

# Paths to include (scan specific packages)
springdoc.packages-to-scan=com.academic.AIS.controller

# Paths to match (only REST API endpoints)
springdoc.paths-to-match=/api/**

# Group API by tags
springdoc.group-configs[0].group=admin
springdoc.group-configs[0].paths-to-match=/api/admin/**
springdoc.group-configs[0].display-name=Admin APIs

springdoc.group-configs[1].group=teacher
springdoc.group-configs[1].paths-to-match=/api/teacher/**
springdoc.group-configs[1].display-name=Teacher APIs

springdoc.group-configs[2].group=auth
springdoc.group-configs[2].paths-to-match=/api/auth/**
springdoc.group-configs[2].display-name=Authentication APIs

# Show actuator endpoints in Swagger (optional)
springdoc.show-actuator=false